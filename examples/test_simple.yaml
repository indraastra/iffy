title: "Simple Test"
author: "Test"
version: "1.0"

metadata:
  setting:
    time: "Present"
    place: "Test room"
  tone:
    overall: "Simple test scenario"
    narrative_voice: "Direct and clear"
  themes:
    - "Testing"

characters:
  - id: "player"
    name: "You"
    traits: ["testing"]
    voice: "Direct"
    description: "Test player"

locations:
  - id: "test_room"
    name: "Test Room"
    connections: []
    description: "A simple test room with a table."
    objects:
      - name: "table"
        description: "A wooden table"

items:
  - id: "test_key"
    name: "Test Key"
    description: "A simple test key"
    discoverable_in: "test_room"
    discovery_objects: ["table"]
    aliases: ["key"]

knowledge: []

flows:
  - id: "test_scene"
    type: "open_scene"
    name: "Test Scene"
    description: "Find the key to win"
    completion_transitions:
      - condition: "has_item:test_key"
        to_flow: "win_ending"

  - id: "win_ending"
    type: "narrative"
    name: "You Win!"
    requirements:
      - "has_item:test_key"
    ends_game: true
    content: |
      You found the test key! Congratulations, you win the test game.

start:
  text: |
    You are in a test room. There is a table here. Try searching the table to find a key.
  location: "test_room"
  first_flow: "test_scene"