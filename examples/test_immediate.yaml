title: "Immediate Test"
author: "Test"
version: "1.0"

metadata:
  setting:
    time: "Present"
    place: "Test room"
  tone:
    overall: "Immediate test scenario"
    narrative_voice: "Direct and clear"
  themes:
    - "Testing"

characters:
  - id: "player"
    name: "You"
    traits: ["testing"]
    voice: "Direct"
    description: "Test player"

locations:
  - id: "test_room"
    name: "Test Room"
    connections: []
    description: "A simple test room. There is a golden key on the floor."

items:
  - id: "golden_key"
    name: "Golden Key"
    description: "A shiny golden key lying on the floor"
    location: "test_room"
    aliases: ["key", "gold key"]

knowledge: []

flows:
  - id: "test_scene"
    type: "open_scene"
    name: "Test Scene"
    description: "Take the key to win immediately"
    completion_transitions:
      - condition: "has_item:golden_key"
        to_flow: "instant_win"

  - id: "instant_win"
    type: "narrative"
    name: "Instant Victory!"
    requirements:
      - "has_item:golden_key"
    ends_game: true
    content: |
      You picked up the golden key! The game ends immediately. Test successful!

start:
  text: |
    You are in a test room. There is a golden key on the floor right in front of you.
    Just say "take key" to win instantly.
  location: "test_room"
  first_flow: "test_scene"