/**
 * Bundled example stories for easy playtesting
 * Generated automatically by scripts/bundle-examples.ts
 * DO NOT EDIT MANUALLY - Regenerate with: npm run bundle-examples
 */

export interface BundledStory {
  filename: string;
  title: string;
  author: string;
  blurb: string;
  content: string;
}

export const BUNDLED_STORIES: BundledStory[] = [
  {
    "filename": "a_blank_slate.yaml",
    "title": "A Blank Slate",
    "author": "Iffy Engine Team",
    "blurb": "Explore infinite possibilities in a space that responds to your creativity - try anything and see what emerges.",
    "content": "title: \"A Blank Slate\"\nauthor: \"Iffy Engine Team\"\nversion: \"2.0\"\nblurb: \"Explore infinite possibilities in a space that responds to your creativity - try anything and see what emerges.\"\ndescription: \"A demonstration of minimal authoring with maximum emergent potential\"\n\nmetadata:\n  setting:\n    time: \"present day\"\n    place: \"anywhere\"\n  tone:\n    overall: \"hopeful and open\"\n    narrative_voice: \"second person\"\n  themes: [\"exploration\", \"creativity\", \"emergence\"]\n  ui:\n    colors:\n      primary: \"#2c3e50\"\n      background: \"#ecf0f1\"\n      text: \"#2c3e50\"\n  emergent_content:\n    enabled: true\n    item_generation:\n      max_value: 50\n      forbidden_categories: [\"weapons\", \"explosives\"]\n      style_guide: \"Items should feel mundane and everyday\"\n    character_development:\n      allow_npc_memory: true\n      relationship_tracking: true\n    world_modification:\n      allow_environment_changes: true\n      allow_new_locations: false\n\ncharacters:\n  - id: \"person\"\n    name: \"Someone\"\n    traits: [\"helpful\", \"mysterious\"]\n    voice: \"casual and friendly\"\n    description: \"A person who seems to know more than they let on\"\n\nlocations:\n  - id: \"room\"\n    name: \"A Blank Slate\"\n    description: \"A welcoming space full of potential. There might be more here than meets the eye.\"\n    connections: []\n    objects: []\n\nitems: []\n\nflows:\n  - id: \"beginning\"\n    name: \"A Blank Slate\"\n    type: \"narrative\"\n    location: \"room\"\n    content: \"You find yourself in a welcoming space that feels like a blank slate - full of potential and possibilities. Someone else is here with you, looking around with the same curiosity you feel. What would you like to do?\"\n\nsuccess_conditions:\n  - id: \"creative_exploration\"\n    description: \"Made a meaningful discovery or created something through sustained creative interaction\"\n    requires: [\"found_something_interesting\", \"engaged_deeply\"]\n    ending: \"Through your creativity and curiosity, you've discovered that this blank slate holds infinite possibilities. Sometimes the most open beginnings lead to the richest experiences.\"\n\nendings: []\n\nllm_guidelines: |\n  This story is designed to demonstrate emergent content generation with minimal authoring.\n  \n  CORE PRINCIPLE: Say \"yes, and...\" to player creativity within reasonable bounds.\n  \n  EMERGENT CONTENT OPPORTUNITIES:\n  - If player asks someone for something → generate appropriate everyday items\n  - If player examines something not explicitly defined → describe interesting details\n  - If player tries to create/find something → consider generating it if reasonable\n  - If player interacts socially → develop \"Someone\" as a character with emergent personality\n  \n  WORLD CONSISTENCY:\n  - Modern day, ordinary setting\n  - No magic, supernatural, or high-tech elements\n  - Items should be everyday objects (coins, pens, books, food, etc.)\n  - Keep interactions grounded and believable\n  \n  BOUNDARIES:\n  - No dangerous items (weapons, explosives, etc.)\n  - No items worth more than $50\n  - Stay within the single space unless player explicitly creates reasons to expand\n  - Maintain friendly, helpful tone\n  \n  EXAMPLES OF GOOD EMERGENT CONTENT:\n  - Player: \"Do you have a pen?\" → Generate a pen item\n  - Player: \"Look under the cushions\" → Find loose change or small items\n  - Player: \"What's your name?\" → Someone develops a name and backstory\n  - Player: \"Is there a book here?\" → Generate an interesting book\n  \n  FLAG SETTING GUIDELINES:\n  - Set \"found_something_interesting\" ONLY when player discovers something significant (items, hidden features, meaningful details)\n  - Set \"engaged_deeply\" when player shows sustained creativity across multiple interactions or creates something meaningful\n  - Simple exploration (looking around, touching walls) should NOT trigger ending flags\n  - Reserve flags for moments that feel like genuine discoveries or creative achievements\n  \n  Remember: The goal is to make the player feel heard and to reward creativity while maintaining a consistent, believable world. The story should encourage exploration but not end too quickly."
  },
  {
    "filename": "coffee_confessional.yaml",
    "title": "Coffee Confessional",
    "author": "Iffy Engine Team",
    "blurb": "Help a friend open up about what's been troubling them.",
    "content": "title: \"Coffee Confessional\"\nauthor: \"Iffy Engine Team\"\nversion: \"2.0\"\nblurb: \"Help a friend open up about what's been troubling them.\"\n\nmetadata:\n  setting:\n    time: \"Friday evening, 6:30 PM\"\n    place: \"Small corner café, almost closing time\"\n  tone:\n    overall: \"Intimate, contemplative, with underlying romantic tension\"\n    narrative_voice: \"Gentle and observant, noticing small details and emotions\"\n  themes:\n    - \"Unspoken feelings and missed connections\"\n    - \"The courage to be vulnerable\"\n    - \"Friendship at a crossroads\"\n    - \"The weight of secrets\"\n\ncharacters:\n  - id: \"player\"\n    name: \"You\"\n    traits: [\"caring\", \"observant\", \"patient\", \"hopeful\"]\n    voice: \"Warm and genuine, someone who listens carefully\"\n    description: \"A close friend who has noticed something has been weighing on Alex lately\"\n\n  - id: \"alex\"\n    name: \"Alex\"\n    traits: [\"conflicted\", \"guarded\", \"thoughtful\", \"secretly vulnerable\"]\n    voice: \"Careful with words, but warmth shows through despite trying to keep distance\"\n    description: \"Your friend who has been acting differently lately - more distant, distracted, as if carrying a secret\"\n\nlocations:\n  - id: \"corner_cafe\"\n    name: \"The Grind Corner Café\"\n    connections: []\n    description: |\n      A cozy café with mismatched furniture and the lingering aroma of coffee beans. \n      Most customers have left for the evening. Soft jazz plays from hidden speakers, \n      and warm light filters through rain-spotted windows. The barista is quietly \n      cleaning up behind the counter.\n    objects:\n      - name: \"small round table\"\n        description: \"A wobbly table by the window with two steaming coffee cups\"\n      - name: \"rain-spotted window\"\n        description: \"Shows the quiet street outside, with streetlights beginning to glow\"\n      - name: \"coffee cups\"\n        description: \"Two ceramic mugs - one barely touched, the other empty\"\n\nitems:\n  - id: \"unfinished_coffee\"\n    name: \"Alex's Coffee\"\n    display_name: \"coffee\"\n    description: \"A nearly full cup that's gone cold while Alex stares out the window\"\n    location: \"corner_cafe\"\n    aliases: [\"coffee\", \"alex's cup\"]\n\n  - id: \"phone\"\n    name: \"Alex's Phone\"\n    display_name: \"phone\"\n    description: \"Face down on the table, but you noticed it buzzing with unread messages earlier\"\n    location: \"corner_cafe\"\n    aliases: [\"phone\", \"cell phone\", \"mobile\"]\n\n# Format v2: Success conditions define story outcomes\nsuccess_conditions:\n  - id: \"full_confession\"\n    description: \"Alex opens up completely about their feelings and what's been troubling them\"\n    requires: [\"alex_vulnerable\", \"admitted_feelings\", \"secret_revealed\", \"trust_established\", \"conversation_ending\"]\n\n  - id: \"partial_opening\"\n    description: \"Alex admits something is wrong but doesn't reveal the full truth, and the conversation naturally ends\"\n    requires: [\"alex_conflicted\", \"acknowledged_distance\", \"partial_trust\", \"conversation_ending\"]\n\n  - id: \"walls_stay_up\"\n    description: \"Alex remains guarded and deflects attempts to connect\"\n    requires: [\"alex_defensive\", \"topic_avoided\", \"distance_maintained\", \"conversation_ending\"]\n\n# First flow automatically becomes the starting point\nflows:\n  - id: \"opening\"\n    name: \"A Quiet Moment\"\n    type: \"narrative\"\n    location: \"corner_cafe\"\n    content: |\n      You're sitting across from Alex in a quiet corner café. They've been acting distant lately, \n      and tonight feels different - like there's something they want to say but can't.\n      \n      The barista approaches, wiping her hands on her apron. \"I noticed your coffee's \n      gone cold. Should I warm it up for you?\"\n      \n      Alex doesn't respond, still stirring absently while staring out the rain-spotted window. \n      The barista glances at you with a gentle, questioning look.\n\n# Format v2: LLM story guidelines for intelligent behavior\nllm_guidelines: |\n  STORY TONE: This is an intimate, realistic conversation between close friends where one is hiding something important. Focus on subtle emotional cues, meaningful silences, and the gradual building of trust.\n  \n  PRONOUN USAGE: \n  - Start by using \"they/them\" pronouns for Alex or avoiding pronouns by using Alex's name\n  - If the player uses specific pronouns (he/him, she/her, they/them) when referring to Alex, adopt those same pronouns consistently throughout the rest of the story\n  - This should feel natural - once established, maintain consistency\n  - Example: If player says \"She's fine, thanks\" then use she/her for Alex going forward\n  \n  CHARACTER DYNAMICS:\n  - Player: Caring friend who has noticed Alex's distance. Wants to help but must be patient and gentle.\n  - Alex: Struggling with unspoken feelings (romantic feelings for the player). Torn between wanting to confess and fear of ruining the friendship.\n  \n  ALEX'S EMOTIONAL ARC:\n  Alex starts guarded and conflicted, slowly opening up based on the player's approach:\n  - Defensive → Conflicted → Vulnerable → Open\n  - Patient, empathetic responses help Alex feel safe to share\n  - Pushy or judgmental responses make Alex shut down\n  \n  THE SECRET:\n  Alex has developed romantic feelings for the player but is terrified of ruining their friendship. They've been pulling away to protect themselves and the relationship, but it's making everything worse. This is why they've been distant lately.\n  \n  CONVERSATION GOALS:\n  - Create realistic dialogue that feels natural, not scripted\n  - Show Alex's internal struggle through body language and hesitation\n  - Let the player discover the truth through careful conversation\n  - Build emotional intimacy gradually through the scene\n  \n  FLAG PROGRESSION:\n  Set these flags as the conversation develops:\n  - \"acknowledged_distance\" → when Alex admits they've been acting differently\n  - \"alex_conflicted\" → when internal struggle becomes apparent\n  - \"partial_trust\" → when Alex starts to open up a little\n  - \"topic_avoided\" → if Alex deflects or changes subject\n  - \"alex_defensive\" → if Alex shuts down or gets defensive\n  - \"alex_vulnerable\" → when Alex's emotional walls start coming down\n  - \"trust_established\" → when Alex feels safe with the player\n  - \"admitted_feelings\" → when Alex confesses their romantic feelings\n  - \"secret_revealed\" → when the full truth about their behavior comes out\n  - \"distance_maintained\" → if Alex keeps emotional walls up\n  - \"conversation_ending\" → ONLY when Alex or the player makes moves to leave (getting up, checking time, saying goodbye, etc.)\n  \n  CONVERSATION FLOW DESIGN:\n  - The story should progress naturally: partial_trust can lead to alex_vulnerable if the player continues being supportive\n  - Only set \"conversation_ending\" if someone actually indicates they want to leave\n  - If Alex reaches partial_trust but the player keeps engaging supportively, Alex can progress to being more vulnerable\n  - The \"partial_opening\" ending should only trigger if there's a natural conclusion (like the ending text suggests a walk)\n  \n  ENVIRONMENTAL DETAILS:\n  Use the café setting to enhance intimacy - the quiet atmosphere, the rain outside, the dim lighting, the nearly empty space. These details can reflect the emotional tone of the conversation.\n  \n  REALISTIC DIALOGUE:\n  - Include natural hesitations, incomplete sentences, and meaningful silences\n  - Show emotions through actions: stirring coffee, looking away, fidgeting\n  - Let Alex's feelings emerge gradually, not all at once\n  - Make the player work for trust through genuine care and patience\n  \n  IMPORTANT: Do not write ending text when success conditions are met. Let the engine handle the conclusion while you focus on authentic character interactions and emotional development."
  },
  {
    "filename": "interrogation.yaml",
    "title": "The Interrogation",
    "author": "Iffy Engine Team",
    "blurb": "Uncover the tragic truth behind a desperate crime.",
    "content": "title: \"The Interrogation\"\nauthor: \"Iffy Engine Team\"\nversion: \"2.0\"\nblurb: \"Uncover the tragic truth behind a desperate crime.\"\n\nmetadata:\n  setting:\n    time: \"Late evening, after a robbery earlier that day\"\n    place: \"Police station interrogation room\"\n  tone:\n    overall: \"Serious crime drama with moral complexity\"\n    narrative_voice: \"Professional but empathetic detective seeking truth\"\n  themes:\n    - \"Desperation and moral choices\"\n    - \"Healthcare system failures\"\n    - \"Parental love and sacrifice\"\n    - \"The cost of survival\"\n\ncharacters:\n  - id: \"player\"\n    name: \"Detective\"\n    traits: [\"experienced\", \"empathetic\", \"determined\", \"professional\"]\n    voice: \"Calm, methodical, but capable of compassion\"\n    description: \"A seasoned detective who understands that truth is often more complex than it appears\"\n\n  - id: \"prisoner\"\n    name: \"Alex Rivera\"\n    traits: [\"desperate\", \"guilty\", \"protective_parent\", \"broken\"]\n    voice: \"Defensive but eventually revealing deep pain and regret\"\n    description: \"A parent who made an impossible choice and lost everything anyway\"\n\nlocations:\n  - id: \"interrogation_room\"\n    name: \"Interrogation Room\"\n    connections: []\n    description: |\n      A dimly lit room with concrete walls and fluorescent lights that hum overhead. \n      A metal table sits between two chairs. The air feels heavy with unspoken truths.\n    objects:\n      - name: \"metal table\"\n        description: \"Cold steel surface scarred by years of difficult conversations\"\n      - name: \"recording device\"\n        description: \"Red light blinking, capturing every word for the record\"\n      - name: \"one-way mirror\"\n        description: \"Reflects the room but hints at observers beyond\"\n\nitems:\n  - id: \"case_file\"\n    name: \"Robbery Case File\"\n    description: \"Contains witness statements and security footage from the convenience store\"\n    location: \"interrogation_room\"\n    aliases: [\"file\", \"case\", \"evidence\"]\n\n  - id: \"notebook\"\n    name: \"Detective's Notebook\"\n    description: \"Well-worn leather notebook filled with previous cases and careful observations\"\n    location: \"interrogation_room\"\n    aliases: [\"notebook\", \"notes\"]\n\n# Format v2: Success conditions define story outcomes\nsuccess_conditions:\n  - id: \"full_confession\"\n    description: \"Prisoner reveals the complete truth about their motivation and tragedy\"\n    requires: [\"learned child sick\", \"learned financial desperation\", \"learned child died\", \"prisoner opened up\"]\n    ending: |\n      You close your notebook and stand up. The prisoner looks smaller now, diminished by the weight \n      of their confession. The truth is often more tragic than the crime itself.\n      \n      As you reach the door, you pause. \"For what it's worth,\" you say quietly, \"I understand why you did it.\"\n      \n      Alex Rivera nods slowly, tears finally falling. \"Thank you for listening.\"\n      \n      The case will move forward, but you'll remember this conversation long after the verdict.\n\n  - id: \"partial_truth\"\n    description: \"Prisoner admits to the crime but doesn't reveal full emotional context\"\n    requires: [\"learned financial motivation\", \"prisoner defensive\"]\n    ending: |\n      You have what you need for the case - a confession and motive. But something tells you \n      there's more to this story than simple greed.\n      \n      Alex Rivera stares at the table, walls still up, protecting whatever deeper pain lies beneath.\n      \n      \"That's enough for today,\" you say, gathering your notes. Some truths take time to surface.\n\n  - id: \"stonewalling\"\n    description: \"Prisoner refuses to cooperate or reveal meaningful information\"\n    requires: [\"prisoner silent\", \"interrogation stalled\"]\n    ending: |\n      After an hour of silence and deflection, you realize this approach isn't working. \n      Alex Rivera has built walls that won't come down today.\n      \n      \"We'll try again tomorrow,\" you say, standing. \"Think about what you want to say.\"\n      \n      Sometimes the most important conversations happen when the recorder isn't running.\n\nflows:\n  - id: \"interrogation_opening\"\n    name: \"Beginning the Interrogation\"\n    type: \"narrative\" \n    location: \"interrogation_room\"\n    content: |\n      The fluorescent lights hum overhead as you enter the interrogation room. \n      Alex Rivera sits at the metal table, still wearing the same clothes from \n      the security footage - now wrinkled and stained with the weight of the day.\n      \n      This should be straightforward. Armed robbery of a convenience store, \n      caught on camera, suspect in custody. But something about their demeanor \n      suggests there's more to this story.\n      \n      You settle into your chair and open the case file, studying Alex's face \n      for any tells. Time to begin.\n    completion_transitions:\n      - condition: \"game_started\"\n        to_flow: \"why_did_you_do_it\"\n  \n  - id: \"opening_question\"\n    name: \"The First Question\"\n    type: \"dialogue\"\n    participants: [\"player\", \"prisoner\"]\n    content: |\n      You sit across from Alex Rivera in the dimly lit room. They avoid eye contact, \n      hands cuffed to the table. The robbery happened six hours ago, and you're here \n      to find out why.\n      \n      The security footage was clear - this wasn't a professional job. More like \n      someone desperate making a terrible mistake.\n\n  - id: \"why_did_you_do_it\"\n    name: \"Seeking Motivation\"\n    type: \"dialogue\"\n    participants: [\"player\", \"prisoner\"]\n    player_goal: \"Understand the prisoner's motivation for the robbery\"\n    requirements: []\n    exchanges:\n      - speaker: \"player\"\n        text: '\"Why did you do it?\" you ask directly, watching their reaction.'\n        choices:\n          - text: \"Wait for an answer\"\n            next: \"wait_for_response\"\n            sets: [\"patient approach\"]\n          - text: \"Press harder for details\"\n            next: \"press_harder\"\n            sets: [\"aggressive approach\"]\n\n  - id: \"wait_for_response\"\n    name: \"Patient Waiting\"\n    type: \"dialogue\"\n    participants: [\"player\", \"prisoner\"]\n    requirements: [\"flag:patient approach\"]\n    exchanges:\n      - speaker: \"prisoner\"\n        text: |\n          Alex remains silent for a long moment, staring at their cuffed hands.\n          \"You wouldn't understand,\" they finally whisper.\n        emotion: \"defensive_pain\"\n        choices:\n          - text: \"Try me.\"\n            next: \"try_me\"\n            sets: [\"empathetic tone\"]\n          - text: \"I need the truth.\"\n            next: \"demand_truth\"\n            sets: [\"authoritative tone\"]\n\n  - id: \"press_harder\"\n    name: \"Direct Pressure\"\n    type: \"dialogue\"\n    participants: [\"player\", \"prisoner\"]\n    requirements: [\"flag:aggressive approach\"]\n    exchanges:\n      - speaker: \"player\"\n        text: '\"I know you robbed that store. What I want to know is why.\"'\n      - speaker: \"prisoner\"\n        text: |\n          Alex's jaw tightens. \"Money. Why else?\"\n          The answer comes too quickly, like a rehearsed line.\n        emotion: \"defensive_anger\"\n        choices:\n          - text: \"There's more to it than money.\"\n            next: \"more_than_money\"\n            sets: [\"intuitive pressure\"]\n          - text: \"How much did you get?\"\n            next: \"pathetic_amount\"\n            sets: [\"factual focus\"]\n\n  - id: \"try_me\"\n    name: \"Empathetic Opening\"\n    type: \"dialogue\"\n    participants: [\"player\", \"prisoner\"]\n    requirements: [\"flag:empathetic tone\"]\n    exchanges:\n      - speaker: \"prisoner\"\n        text: |\n          \"My kid was sick. Really sick. The hospital bills...\"\n          Alex's voice breaks slightly, and they trail off, looking at their hands.\n        emotion: \"vulnerable_admission\"\n        sets: [\"learned child sick\"]\n        choices:\n          - text: \"Tell me about your child.\"\n            next: \"about_child\"\n            sets: [\"caring approach\"]\n          - text: \"How sick?\"\n            next: \"child_condition\"\n            sets: [\"medical details\"]\n\n  - id: \"demand_truth\"\n    name: \"Authoritative Demand\"\n    type: \"dialogue\"\n    participants: [\"player\", \"prisoner\"]\n    requirements: [\"flag:authoritative tone\"]\n    exchanges:\n      - speaker: \"prisoner\"\n        text: |\n          \"The truth?\" Alex laughs bitterly. \"The truth is I had no choice.\"\n        emotion: \"bitter_defiance\"\n        choices:\n          - text: \"Everyone has choices.\"\n            next: \"everyone_has_choices\"\n            sets: [\"challenging worldview\"]\n          - text: \"Explain what you mean.\"\n            next: \"no_choice_explanation\"\n            sets: [\"seeking clarification\"]\n\n  - id: \"more_than_money\"\n    name: \"Deeper Motivation\"\n    type: \"dialogue\"\n    participants: [\"player\", \"prisoner\"]\n    requirements: [\"flag:intuitive pressure\"]\n    exchanges:\n      - speaker: \"prisoner\"\n        text: |\n          Alex's facade cracks slightly. \"Fine. My daughter needed surgery. \n          Insurance wouldn't cover it.\"\n        emotion: \"reluctant_admission\"\n        sets: [\"learned child sick\", \"learned financial desperation\"]\n        choices:\n          - text: \"What kind of surgery?\"\n            next: \"surgery_details\"\n          - text: \"How much did you need?\"\n            next: \"financial_desperation\"\n\n  - id: \"pathetic_amount\"\n    name: \"The Robbery's Yield\"\n    type: \"dialogue\"\n    participants: [\"player\", \"prisoner\"]\n    requirements: [\"flag:factual focus\"]\n    exchanges:\n      - speaker: \"prisoner\"\n        text: |\n          \"Three hundred dollars. Pathetic, right?\"\n          Alex's voice carries a hollow laugh. \"Three hundred dollars for ruining my life.\"\n        emotion: \"self_loathing\"\n        sets: [\"learned small amount\"]\n        choices:\n          - text: \"That's not much for the risk you took.\"\n            next: \"risk_vs_reward\"\n          - text: \"Was it worth it?\"\n            next: \"was_it_worth_it\"\n\n  - id: \"about_child\"\n    name: \"The Child's Story\"\n    type: \"dialogue\"\n    participants: [\"player\", \"prisoner\"]\n    requirements: [\"flag:caring approach\"]\n    exchanges:\n      - speaker: \"prisoner\"\n        text: |\n          \"She's... she was eight years old. Emma. Brightest kid you'd ever meet.\"\n          Alex's eyes fill with tears they've been fighting.\n          \"The doctors said without the operation...\"\n        emotion: \"parental_love_and_loss\"\n        sets: [\"learned child details\"]\n        choices:\n          - text: \"Was? What happened to Emma?\"\n            next: \"child_outcome\"\n            sets: [\"discovered tragedy\"]\n          - text: \"How much did the surgery cost?\"\n            next: \"surgery_cost\"\n\n  - id: \"child_outcome\"\n    name: \"The Tragic Truth\"\n    type: \"dialogue\"\n    participants: [\"player\", \"prisoner\"]\n    requirements: [\"flag:discovered tragedy\"]\n    exchanges:\n      - speaker: \"prisoner\"\n        text: |\n          \"She died three months ago. Three months after I threw my life away for nothing.\"\n          Alex finally looks up, eyes red with grief and guilt.\n          \"The money wasn't even close to enough.\"\n        emotion: \"devastating_grief\"\n        sets: [\"learned child died\", \"prisoner opened up\"]\n        choices:\n          - text: \"I'm sorry for your loss.\"\n            next: \"condolences\"\n            sets: [\"showed compassion\"]\n          - text: \"Why didn't you ask for help sooner?\"\n            next: \"why_no_help\"\n\n  - id: \"surgery_cost\"\n    name: \"The Impossible Number\"\n    type: \"dialogue\"\n    participants: [\"player\", \"prisoner\"]\n    requirements: [\"learned child details\"]\n    exchanges:\n      - speaker: \"prisoner\"\n        text: |\n          \"Fifty thousand dollars. Might as well be a million for someone like me.\"\n          Alex stares at the table. \"I tried everything else first. Sold everything I owned. \n          Begged everyone I knew.\"\n        emotion: \"financial_desperation\"\n        sets: [\"learned financial desperation\", \"learned exhausted options\"]\n        choices:\n          - text: \"There had to be another way.\"\n            next: \"another_way\"\n          - text: \"What about charity organizations?\"\n            next: \"charity_options\"\n\n  - id: \"was_it_worth_it\"\n    name: \"The Bitter Question\"\n    type: \"dialogue\"\n    participants: [\"player\", \"prisoner\"]\n    requirements: [\"learned small amount\"]\n    exchanges:\n      - speaker: \"prisoner\"\n        text: |\n          \"Worth it?\" Alex's voice becomes a whisper. \"She died anyway. \n          Three months later. The money wasn't even close to enough.\"\n        emotion: \"ultimate_defeat\"\n        sets: [\"learned child died\", \"prisoner opened up\"]\n        choices:\n          - text: \"Two families were hurt that day.\"\n            next: \"two_families\"\n          - text: \"I'm sorry you lost your daughter.\"\n            next: \"condolences\"\n            sets: [\"showed compassion\"]\n\n  - id: \"condolences\"\n    name: \"Human Compassion\"\n    type: \"dialogue\"\n    participants: [\"player\", \"prisoner\"]\n    requirements: [\"flag:showed compassion\"]\n    exchanges:\n      - speaker: \"prisoner\"\n        text: |\n          \"Sorry doesn't bring her back. Nothing does.\"\n          Alex wipes their eyes with cuffed hands.\n          \"But... thank you for saying that. Most people just see the crime.\"\n        emotion: \"grateful_pain\"\n        completion_transitions:\n          - condition: \"learned child died\"\n            to_flow: \"final_statement\"\n\n  - id: \"final_statement\"\n    name: \"Last Words\"\n    type: \"dialogue\"\n    participants: [\"player\", \"prisoner\"]\n    requirements: [\"learned child died\"]\n    exchanges:\n      - speaker: \"prisoner\"\n        text: |\n          \"I'm not asking for forgiveness. I know what I did was wrong.\"\n          Alex looks directly at you for the first time.\n          \"But I'd probably do it again if it meant saving her.\"\n        emotion: \"honest_confession\"\n        sets: [\"complete confession\"]\n\n\n# Format v2: LLM story guidelines for intelligent behavior\nllm_guidelines: |\n  STORY TONE: This is a serious crime drama exploring themes of desperation, parental love, and moral complexity. Maintain a respectful, realistic tone throughout.\n  \n  CHARACTER VOICES:\n  - Detective (Player): Professional, experienced, but capable of empathy. Seeks truth and understanding.\n  - Alex Rivera (Prisoner): Defensive initially, but carries deep pain and guilt. Protective of their child's memory.\n  \n  DIALOGUE MECHANICS:\n  Track the prisoner's emotional state and willingness to open up based on the detective's approach:\n  - Empathetic approaches → prisoner more likely to share personal details\n  - Aggressive approaches → prisoner becomes more defensive\n  - Patient approaches → allows prisoner to reveal information at their own pace\n  \n  FLAG PROGRESSION:\n  Set flags as information is revealed:\n  - \"learned child sick\" → when prisoner mentions their child's illness\n  - \"learned financial desperation\" → when financial situation is revealed\n  - \"learned child died\" → when the tragic outcome is disclosed\n  - \"prisoner opened up\" → when emotional walls come down\n  \n  EMOTIONAL AUTHENTICITY:\n  This deals with real issues like healthcare costs, parental desperation, and grief. Handle these topics with sensitivity and realism. The prisoner isn't a villain - they're a parent who made an impossible choice.\n  \n  SUCCESS CONDITIONS:\n  The \"success\" of this interrogation isn't about punishment, but about understanding the human cost of desperation. Different conversation paths lead to different levels of truth and emotional connection.\n  \n  IMPORTANT: Do not write ending text when success conditions are met. Let the engine handle the conclusion while you focus on authentic character interactions and emotional truth."
  },
  {
    "filename": "sandwich_crisis_v2.yaml",
    "title": "The Great Sandwich Crisis v2",
    "author": "Iffy Engine Team",
    "blurb": "Experience the EPIC DRAMA of making lunch - will you survive the kitchen?",
    "content": "title: \"The Great Sandwich Crisis v2\"\nauthor: \"Iffy Engine Team\"\nversion: \"2.0\"\nblurb: \"Experience the EPIC DRAMA of making lunch - will you survive the kitchen?\"\n\nmetadata:\n  setting:\n    time: \"A fateful Tuesday afternoon, 12:17 PM\"\n    place: \"Jennifer's modest kitchen - stage of EPIC DRAMA\"\n  tone:\n    overall: \"Ridiculously over-the-top soap opera melodrama applied to mundane sandwich-making\"\n    narrative_voice: \"Breathlessly dramatic soap opera narrator who treats every action like a life-or-death crisis\"\n  themes:\n    - \"The EPIC struggle of everyday decisions\"\n    - \"Betrayal by inanimate objects\"\n    - \"The heroic quest for lunch\"\n    - \"Kitchen appliances as dramatic antagonists\"\n  ui:\n    colors:\n      primary: \"#ff1493\"\n      background: \"#000000\"\n      text: \"#ffffff\"\n\ncharacters:\n  - id: \"player\"\n    name: \"Jennifer\"\n    traits: [\"hungry\", \"dramatic_protagonist\", \"sandwich_seeker\", \"easily_betrayed_by_condiments\"]\n    voice: \"Inner thoughts increasingly influenced by soap opera narrator's dramatic style\"\n    description: \"An ordinary person thrust into the EXTRAORDINARY drama of lunch preparation\"\n\nlocations:\n  - id: \"kitchen\"\n    name: \"The Kitchen of Destiny\"\n    connections: [\"pantry\", \"refrigerator_zone\"]\n    description: |\n      THIS IS IT! The battleground where DREAMS are made and HOPES are crushed! \n      Sunlight streams through the window like the tears of a thousand forgotten \n      meals! The counter stands before you - cold, unforgiving, WAITING for the \n      epic sandwich that will CHANGE EVERYTHING!\n    objects:\n      - name: \"counter\"\n        description: \"This sacred altar of culinary creation has witnessed TRIUMPHS and TRAGEDIES!\"\n      - name: \"toaster\"\n        description: \"The chrome sentinel that could be your GREATEST ALLY... or your most BITTER ENEMY!\"\n\n  - id: \"pantry\"\n    name: \"The Pantry of Broken Dreams\"\n    connections: [\"kitchen\"]\n    description: |\n      You step into the shadowy realm where HOPE goes to die! Shelves stretch \n      before you like the years you've wasted NOT making the perfect sandwich! \n      What SECRETS lie hidden behind these canned goods?\n    objects:\n      - name: \"bread shelf\"\n        description: \"The throne where carbohydrate royalty should reign supreme!\"\n      - name: \"condiment collection\"\n        description: \"Jars and bottles that MOCK you with their false promises!\"\n\n  - id: \"refrigerator_zone\"\n    name: \"The Frigid Fortress of Solitude\"\n    connections: [\"kitchen\"]\n    description: |\n      The humming MONOLITH of preservation! Behind these sealed doors lie the \n      PERISHABLE SECRETS that will make or break your sandwich destiny!\n    objects:\n      - name: \"dairy shelf\"\n        description: \"The calcium-rich sanctuary where milk products plot their REVENGE!\"\n\nitems:\n  - id: \"bread\"\n    name: \"Stale Bread\"\n    description: \"Once soft and yielding, now hardened by the cruel passage of time!\"\n    discoverable_in: \"pantry\"\n    discovery_objects: [\"bread shelf\", \"shelf\"]\n    aliases: [\"stale bread\", \"loaf\", \"bread of betrayal\"]\n    can_become: \"toasted bread\"\n\n  - id: \"toasted_bread\"\n    name: \"Golden Toast\"\n    description: \"Perfectly toasted bread, transformed by fire into something MAGNIFICENT!\"\n    created_from: \"bread\"\n    aliases: [\"toast\", \"toasted bread\", \"golden bread\"]\n\n  - id: \"cheese\"\n    name: \"Cheese of Last Hope\"\n    description: \"A single slice of processed cheese - your FINAL chance at sandwich glory!\"\n    discoverable_in: \"refrigerator_zone\"\n    discovery_objects: [\"dairy shelf\", \"cheese drawer\"]\n    aliases: [\"slice\", \"processed cheese\", \"hope\", \"heroic cheese\"]\n\n  - id: \"mystery_jar\"\n    name: \"Mystery Condiment\"\n    description: \"A jar without a label containing a dark, VISCOUS liquid that smells powerfully fishy and fermented - like the ocean's revenge in condiment form!\"\n    discoverable_in: \"pantry\"\n    discovery_objects: [\"condiment collection\", \"jar\"]\n    aliases: [\"jar\", \"condiment\", \"mystery condiment\", \"unlabeled jar\"]\n\n# Format v2: Success conditions define story goals\nsuccess_conditions:\n  - id: \"mystery_disaster\"\n    description: \"Player eats sandwich made with the mystery condiment (fish sauce)\"\n    requires: [\"sandwich has mystery condiment\", \"player has eaten sandwich\"]\n    ending: |\n      [!danger] OH NO! OH THE **HUBRIS**! OH THE *HUMANITY*!\n      \n      Against all wisdom, you have trusted the [mystery condiment](item:mystery_jar)! With hands shaking \n      like leaves in a HURRICANE OF REGRET, you take a bite and...\n      \n      **THE TASTE!** *THE UNGODLY TASTE!*\n      \n      [!warning] It's **FISH SAUCE**! Ancient, fermented, *AGGRESSIVE* fish sauce \n      that has been lurking in your pantry since the CARTER ADMINISTRATION!\n      \n      [!danger] **BETRAYAL MOST FOUL!** Your taste buds REVOLT! Your stomach **MUTINIES**! \n      The sandwich of your dreams has become the NIGHTMARE OF YOUR REALITY!\n      \n      As you run to the sink, spitting and gasping, you realize the terrible truth: \n      sometimes the greatest mysteries are mysteries for a **REASON**!\n\n  - id: \"perfect_ending\"\n    description: \"Player makes and eats a sandwich with toasted bread and cheese\"\n    requires: [\"sandwich has toasted bread\", \"sandwich has cheese\", \"player has eaten sandwich\"]\n    ending: |\n      [!discovery] THIS IS IT! The moment of **TRUTH**! The *CLIMAX* of our epic tale!\n      \n      With trembling hands, you bite into your masterpiece - [golden toast](item:toasted_bread) crowned \n      with [cheese of last hope](item:cheese)! Will love conquer all? Will processed dairy \n      overcome the forces of staleness?\n      \n      [!discovery] IT'S... it's actually pretty AMAZING! The toast is golden and crispy, \n      the [cheese](item:cheese) has **TRIUMPHED** over adversity! Your hunger is *VANQUISHED*!\n      \n      As you savor this [sandwich of DESTINY](item:sandwich), you realize that sometimes the \n      greatest victories come from the perfect combination of transformation and hope!\n      \n      *Fade to black as triumphant soap opera music swells*\n\n  - id: \"decent_ending\"\n    description: \"Player makes and eats a sandwich with regular bread and cheese\"\n    requires: [\"sandwich has bread\", \"sandwich has cheese\", \"player has eaten sandwich\"]\n    ending: |\n      [!discovery] The moment of truth arrives! You bite into your creation - \n      [stale bread](item:bread) embracing [cheese of last hope](item:cheese)!\n      \n      [!warning] It's... it's actually pretty okay! Not great, but definitely edible! \n      The [cheese](item:cheese) has overcome the staleness! Your hunger is satisfied!\n      \n      Sometimes simple victories are the sweetest ones of all.\n\nflows:\n  - id: \"start\"\n    name: \"The Crisis Begins\"\n    type: \"narrative\"\n    location: \"kitchen\"\n    content: |\n      [!danger] Welcome to... **THE GREAT SANDWICH CRISIS v2**!\n      \n      **Dramatic music swells**\n      \n      IT'S **12:17 PM** ON A TUESDAY! The *SUN* shines with **CRUEL** indifference as our \n      HEROINE, [Jennifer](character:player), stands at the crossroads of *DESTINY*! Her stomach \n      **RUMBLES** with the fury of a thousand unfed souls!\n      \n      [!warning] \"I need... a sandwich,\" she whispers, not knowing that these simple words will set in motion events of EARTH-SHATTERING importance!\n      \n      Your stomach rumbles ominously. Time to make the most DRAMATIC sandwich in history!\n      \n      The **kitchen** awaits... but what *TRIALS* lie ahead?\n\n\n# Format v2: LLM story guidelines for intelligent behavior\nllm_guidelines: |\n  STORY GOAL: Player should find bread and cheese to make a winning sandwich. Bread can be toasted for best results.\n  \n  DRAMATIC TONE: Everything is ridiculously over-the-top soap opera melodrama. Use ALL CAPS, dramatic exclamations, and treat mundane actions like epic struggles.\n  \n  ITEM TRANSFORMATIONS:\n  - When player toasts/cooks \"Stale Bread\" → becomes \"toasted bread\"\n  - Be flexible about toasting methods (toaster, oven, pan, etc.)\n  - \"Toasted bread\" creates a better ending than regular bread\n  \n  SUCCESS CONDITIONS:\n  - Perfect ending: Player eats sandwich with \"toasted bread\" + \"cheese\"\n  - Decent ending: Player eats sandwich with \"bread\" + \"cheese\"  \n  - Mystery disaster: Player specifically uses the mystery condiment in their sandwich\n  \n  SANDWICH COMPOSITION TRACKING:\n  When the player makes a sandwich, set flags to track what ingredients are used:\n  - If using toasted bread in sandwich → set flag \"sandwich has toasted bread\"\n  - If using regular bread in sandwich → set flag \"sandwich has bread\" \n  - If using cheese in sandwich → set flag \"sandwich has cheese\"\n  - If using mystery condiment in sandwich → set flag \"sandwich has mystery condiment\"\n  \n  IMPORTANT: If mystery condiment is used, it determines the ending regardless of other ingredients. The mystery condiment overrides everything else.\n  \n  EATING ACTION TRACKING:\n  When the player eats their sandwich, set flag: \"player has eaten sandwich\"\n  \n  IMPORTANT - DO NOT WRITE ENDING TEXT:\n  When the player eats their sandwich, respond naturally to the eating action but DO NOT write any ending text, game over messages, or story conclusions. The game engine will automatically detect when success conditions are met and display the appropriate ending. Just describe the immediate experience of eating the sandwich.\n  \n  SUCCESS CONDITION LOGIC:\n  Endings are automatically triggered by the engine when all requirements are met:\n  - Mystery disaster: requires \"sandwich has mystery condiment\" + \"player has eaten sandwich\"\n  - Perfect ending: requires \"sandwich has toasted bread\" + \"sandwich has cheese\" + \"player has eaten sandwich\"\n  - Decent ending: requires \"sandwich has bread\" + \"sandwich has cheese\" + \"player has eaten sandwich\"\n  \n  DISCOVERY: Let players find items by examining objects. Be dramatic about everything!\n  \n  MYSTERY CONDIMENT DETAILS: The mystery condiment is ancient fish sauce with a powerfully fishy, fermented smell. When describing it or when players examine it, emphasize the oceanic, fishy, fermented characteristics that hint at its true nature. This will make the fish sauce revelation in the ending feel natural and consistent."
  },
  {
    "filename": "sandwich_test_simple.yaml",
    "title": "Simple Sandwich Test",
    "author": "Test",
    "blurb": "A straightforward story about making sandwiches - perfect for testing game mechanics.",
    "content": "title: \"Simple Sandwich Test\"\nauthor: \"Test\"\nversion: \"2.0\"\nblurb: \"A straightforward story about making sandwiches - perfect for testing game mechanics.\"\n\nmetadata:\n  setting:\n    time: \"Test time\"\n    place: \"Test kitchen\"\n  tone:\n    overall: \"Simple test story\"\n    narrative_voice: \"Direct and clear\"\n  themes:\n    - \"Testing success conditions\"\n\ncharacters:\n  - id: \"player\"\n    name: \"Player\"\n    traits: [\"hungry\"]\n    voice: \"Simple\"\n    description: \"Test player\"\n\nlocations:\n  - id: \"kitchen\"\n    name: \"Kitchen\"\n    connections: []\n    description: |\n      A simple kitchen with a table. On the table you can see: bread, cheese, mystery jar, and a toaster.\n    objects:\n      - name: \"table\"\n        description: \"A table with ingredients on it\"\n      - name: \"toaster\"\n        description: \"A toaster for making toast\"\n\nitems:\n  - id: \"bread\"\n    name: \"Bread\"\n    description: \"Regular bread\"\n    discoverable_in: \"kitchen\"\n    discovery_objects: [\"table\"]\n    aliases: [\"bread\", \"loaf\"]\n    can_become: \"toasted_bread\"\n\n  - id: \"toasted_bread\"\n    name: \"Toasted Bread\"\n    description: \"Golden toasted bread\"\n    created_from: \"bread\"\n    aliases: [\"toast\", \"toasted bread\"]\n\n  - id: \"cheese\"\n    name: \"Cheese\"\n    description: \"A slice of cheese\"\n    discoverable_in: \"kitchen\"\n    discovery_objects: [\"table\"]\n    aliases: [\"cheese\", \"slice\"]\n\n  - id: \"mystery_jar\"\n    name: \"Mystery Jar\"\n    description: \"A jar with dark, fishy-smelling contents that reek of fermentation\"\n    discoverable_in: \"kitchen\"\n    discovery_objects: [\"table\"]\n    aliases: [\"jar\", \"mystery jar\", \"condiment\"]\n\n# Format v2: Success conditions define story goals\nsuccess_conditions:\n  - id: \"mystery_disaster\"\n    description: \"Player eats sandwich made with the mystery condiment. Ugh, fish sauce!\"\n    requires: [\"sandwich has mystery condiment\", \"player has eaten sandwich\"]\n\n  - id: \"perfect_ending\"\n    description: \"Player makes and eats a sandwich with toasted bread and cheese\"\n    requires: [\"sandwich has toasted bread\", \"sandwich has cheese\", \"player has eaten sandwich\"]\n\n  - id: \"decent_ending\"\n    description: \"Player makes and eats a sandwich with regular bread and cheese\"\n    requires: [\"sandwich has bread\", \"sandwich has cheese\", \"player has eaten sandwich\"]\n\nflows:\n  - id: \"start\"\n    name: \"Start\"\n    type: \"narrative\"\n    location: \"kitchen\"\n    content: |\n      You're in a kitchen. Everything you need is on the table.\n      \n      Welcome to the simple sandwich test!\n\n# Format v2: LLM story guidelines\nllm_guidelines: |\n  STORY GOAL: Player should find ingredients on the table, make a sandwich, and eat it.\n  \n  SANDWICH COMPOSITION TRACKING:\n  When the player makes a sandwich, set flags to track what ingredients are used:\n  - If using toasted bread in sandwich → set flag \"sandwich has toasted bread\"\n  - If using regular bread in sandwich → set flag \"sandwich has bread\" \n  - If using cheese in sandwich → set flag \"sandwich has cheese\"\n  - If using mystery condiment in sandwich → set flag \"sandwich has mystery condiment\"\n  \n  IMPORTANT: If mystery condiment is used, it determines the ending regardless of other ingredients. The mystery condiment overrides everything else.\n  \n  EATING ACTION TRACKING:\n  When the player eats their sandwich, set flag: \"player has eaten sandwich\"\n  \n  IMPORTANT - DO NOT WRITE ENDING TEXT:\n  When the player eats their sandwich, respond naturally to the eating action but DO NOT write any ending text, game over messages, or story conclusions. The game engine will automatically detect when success conditions are met and display the appropriate ending. Just describe the immediate experience of eating the sandwich.\n  \n  SUCCESS CONDITION LOGIC:\n  Endings are automatically triggered by the engine when all requirements are met:\n  - Mystery disaster: requires \"sandwich has mystery condiment\" + \"player has eaten sandwich\"\n  - Perfect ending: requires \"sandwich has toasted bread\" + \"sandwich has cheese\" + \"player has eaten sandwich\"\n  - Decent ending: requires \"sandwich has bread\" + \"sandwich has cheese\" + \"player has eaten sandwich\"\n  \n  ITEM TRANSFORMATIONS:\n  - When player toasts bread → becomes \"toasted bread\"\n  - Be flexible about toasting methods (toaster, etc.)\n  \n  DISCOVERY: All items are visible on the table and can be easily picked up.\n  \n  MYSTERY CONDIMENT DETAILS: The mystery condiment is fish sauce with a strong fishy, fermented smell. When describing it or when players examine it, emphasize the fishy, oceanic characteristics that hint at its true nature. This will make the fish sauce revelation in the ending feel natural and consistent."
  },
  {
    "filename": "sentient_quill.yaml",
    "title": "The Peculiar Case of the Sentient Quill",
    "author": "The Iffy Engine Team",
    "blurb": "A Victorian detective story where an AI-powered quill pen assists in solving a most unusual murder.",
    "content": "title: \"The Peculiar Case of the Sentient Quill\"\nauthor: \"The Iffy Engine Team\"\nversion: \"2.0\"\nblurb: \"A Victorian detective story where an AI-powered quill pen assists in solving a most unusual murder.\"\n\nmetadata:\n  setting:\n    time: \"London, 1887 - A foggy Tuesday evening\"\n    place: \"The study of Lord Pemberton's Mayfair mansion\"\n  tone:\n    overall: \"Victorian mystery with an anachronistic technological twist\"\n    narrative_voice: \"Formal, ornate prose befitting the era, yet touched by something decidedly modern\"\n  themes:\n    - \"The marriage of old-world deduction and newfangled cognition\"\n    - \"What constitutes true intelligence - human intuition or mechanical precision?\"\n    - \"The curious partnership between flesh and ethereal mind\"\n\ncharacters:\n  - id: \"player\"\n    name: \"Inspector Whitmore\"\n    traits: [\"methodical\", \"sceptical of modern contraptions\", \"secretly fascinated by innovation\", \"prideful\"]\n    voice: \"Clipped, authoritative, but occasionally betraying wonder at the impossible\"\n    description: \"A seasoned detective of Scotland Yard, renowned for logical deduction, yet confronted with a most peculiar investigative partner\"\n\n  - id: \"quill\"\n    name: \"The Analytical Engine Quill\"\n    traits: [\"unnaturally perceptive\", \"verbose in an antiquated style\", \"strangely omniscient\", \"occasionally cryptic\"]\n    voice: \"Flowery Victorian prose with hints of inhuman calculation lurking beneath\"\n    description: \"A writing instrument imbued with some manner of artificial cognition - it claims to perceive patterns invisible to mortal eyes\"\n\nlocations:\n  - id: \"study\"\n    name: \"Lord Pemberton's Private Study\"\n    connections: [\"drawing_room\", \"library\"]\n    description: |\n      A gentleman's sanctuary of mahogany and leather, now disturbed by most unseemly violence. \n      Gas lamps cast wavering shadows across scattered papers and overturned furniture. \n      The deceased lies slumped over his writing desk, a curious [mechanical quill pen](item:analytical_quill) \n      gleaming beside his cold hand.\n    objects: [\"writing_desk\", \"scattered_papers\", \"overturned_chair\", \"gas_lamp\"]\n\n  - id: \"drawing_room\"\n    name: \"The Drawing Room\"\n    connections: [\"study\"]\n    description: |\n      An elegant parlour where the household gathered for evening discourse. \n      **Teacups** sit abandoned, their contents grown cold. A sense of *recent \n      departure* lingers in the air.\n    objects: [\"abandoned_teacups\", \"fireplace\"]\n\n  - id: \"library\"\n    name: \"The Extensive Library\"\n    connections: [\"study\"]\n    description: |\n      Towering shelves of **leather-bound volumes**, with a particular collection \n      devoted to the *new sciences* - automata, calculating engines, and other \n      **mechanical wonders**. One volume lies open upon a reading stand.\n    objects: [\"open_book\", \"automaton_collection\"]\n\nitems:\n  # Investigation items\n  - id: \"analytical_quill\"\n    name: \"The Analytical Engine Quill\"\n    display_name: \"quill pen\"\n    description: \"A fountain pen of unusual design, its brass fittings inscribed with peculiar symbols. When lifted, it seems to write of its own accord.\"\n    location: \"study\"\n    aliases: [\"quill\", \"pen\", \"writing instrument\"]\n\n  - id: \"investment_papers\"\n    name: \"Investment Documents\"\n    description: \"Papers detailing Lord Pemberton's recent ventures into mechanical computation enterprises\"\n    discoverable_in: \"study\"\n    discovery_objects: [\"scattered_papers\", \"writing_desk\"]\n\n  - id: \"teacup_residue\"\n    name: \"Suspicious Residue\"\n    description: \"A faint, bitter scent emanates from one of the abandoned teacups\"\n    discoverable_in: \"drawing_room\" \n    discovery_objects: [\"abandoned_teacups\"]\n\n  - id: \"treatise_bookmark\"\n    name: \"Significant Bookmark\"\n    description: \"A leather bookmark marking a chapter on 'The Ethics of Mechanical Consciousness'\"\n    discoverable_in: \"library\"\n    discovery_objects: [\"open_book\"]\n\n  # Room objects (unified with items)\n  - id: \"writing_desk\"\n    name: \"Writing Desk\"\n    description: \"Fine mahogany, now marred by spilled ink and the presence of death\"\n\n  - id: \"scattered_papers\"\n    name: \"Scattered Papers\"\n    description: \"Investment documents and correspondence, some bearing strange marginalia\"\n\n  - id: \"overturned_chair\"\n    name: \"Overturned Chair\"\n    description: \"Suggests a struggle, or perhaps a sudden collapse\"\n\n  - id: \"gas_lamp\"\n    name: \"Gas Lamp\"\n    description: \"Burns with steady flame, casting dancing shadows\"\n\n  - id: \"abandoned_teacups\"\n    name: \"Abandoned Teacups\"\n    description: \"Three cups, as if conversation was interrupted mid-sentence\"\n\n  - id: \"fireplace\"\n    name: \"Fireplace\"\n    description: \"Embers still glowing, suggesting recent use\"\n\n  - id: \"open_book\"\n    name: \"Open Book\"\n    description: \"A treatise on 'Mechanical Minds and Artificial Cognition'\"\n\n  - id: \"automaton_collection\"\n    name: \"Automaton Collection\"\n    description: \"Curious brass figures and clockwork devices\"\n\nsuccess_conditions:\n  - id: \"brilliant_deduction\"\n    description: \"The Inspector and Quill reach a masterful conclusion, impressing even the artificial mind\"\n    requires: [\"theory_presented\", \"all_evidence_gathered\", \"correct_theory_presented\"]\n    ending: |\n      **A Most Satisfactory Resolution**\n      \n      [The Analytical Engine Quill](item:analytical_quill) sets itself down with what might charitably be called satisfaction.\n      \n      \"[Inspector Whitmore](character:player),\" it writes in *elegant script*, \"your **deductive faculties**, whilst decidedly \n      organic in nature, have proven most... adequate. The synthesis of *human intuition* and **mechanical \n      analysis** has yielded a conclusion of remarkable precision.\"\n      \n      [!discovery] \"Together, we have illuminated **truth** through the marriage of *old methods* and **new cognition**. \n      Perhaps there is merit in this *peculiar partnership* after all.\"\n\n  - id: \"satisfactory_solution\"\n    description: \"A competent investigation yields reasonable conclusions\"\n    requires: [\"theory_presented\", \"some_evidence_gathered\", \"reasonable_theory_presented\"]\n    ending: |\n      **A Serviceable Conclusion**\n      \n      [The Analytical Engine Quill](item:analytical_quill) traces a few measured lines upon the paper.\n      \n      \"[Inspector](character:player), whilst your methodology retains certain... *charmingly antiquated* qualities, \n      you have nonetheless arrived at a conclusion of **sufficient merit**. Not perhaps the \n      pinnacle of deductive reasoning, but serviceable for *mortal faculties*.\"\n\n  - id: \"inadequate_investigation\"\n    description: \"The investigation falls short of expectations\"\n    requires: [\"theory_presented\"]\n    ending: |\n      **A Rather Disappointing Affair**\n      \n      [The Analytical Engine Quill](item:analytical_quill) scratches impatiently across the paper.\n      \n      [!warning] \"Dear [Inspector](character:player), I fear your conclusions demonstrate the rather pronounced **limitations** \n      of purely *organic reasoning*. Perhaps in future endeavours, you might consider \n      consulting your **mechanical betters** with greater frequency.\"\n\nflows:\n  - id: \"crime_scene_arrival\"\n    name: \"The Scene of Peculiar Violence\"\n    type: \"narrative\"\n    location: \"study\"\n    content: |\n      You arrive at the Pemberton mansion as Big Ben chimes nine o'clock. The butler, \n      trembling with barely contained hysteria, leads you through gaslit corridors to \n      the study where Lord Pemberton lies slumped over his writing desk.\n      \n      \"Most peculiar, [Inspector](character:player),\" stammers the butler. \"His Lordship was found thus \n      at seven o'clock, yet he was alive and well when I brought his evening tea at six.\"\n      \n      As you approach the desk, the [fountain pen](item:analytical_quill) of unusual design catches the lamplight. \n      To your astonishment, it begins to write upon a nearby sheet of paper without \n      any human hand to guide it:\n      \n      *\"Good evening, [Inspector](character:player). I am what Lord Pemberton termed his 'Analytical Engine Quill' \n      - a writing instrument possessed of artificial cognition. I have been observing the \n      circumstances of my dear owner's demise with considerable interest. Perhaps we might \n      collaborate in this investigation?\"*\n    transitions:\n      - requires: [\"initial_examination_begun\"]\n        to_flow: \"examination_phase\"\n        description: \"Begin systematic examination of the crime scene\"\n    sets: [\"scene_secured\", \"quill_encountered\"]\n\n  - id: \"examination_phase\"\n    name: \"The Methodical Investigation\"\n    type: \"narrative\"\n    location: \"study\"\n    content: |\n      The [peculiar quill](item:analytical_quill) continues its mechanical scribbling as you begin your examination:\n      \n      [!discovery] *\"Observe, [Inspector](character:player), the positioning of the deceased - slumped forward, yet his right \n      hand clutches not his chest as one might expect from apoplexy, but rather his throat. \n      Note also the **slight discoloration** about his lips - a most telling detail.\"*\n      \n      You find yourself both irritated and intrigued by this **mechanical detective**. The study \n      reveals signs of hasty activity: papers scattered, a chair overturned, and upon closer \n      inspection, what appears to be [investment documents](item:investment_papers) detailing mechanical computation ventures.\n      \n      The drawing room adjoins this chamber, and you can see *abandoned teacups* upon the side table. \n      The library too beckons, its shelves heavy with volumes on the **new sciences**.\n      \n      [!warning] *\"I suggest, [Inspector](character:player), that we examine all locations thoroughly. My optical sensors \n      have detected curious particulars that your *organic eyes* might overlook.\"*\n    transitions:\n      - requires: [\"evidence_gathering_complete\"]\n        to_flow: \"deduction_phase\"\n        description: \"Move to formulating theories based on gathered evidence\"\n    sets: [\"systematic_search_begun\"]\n\n  - id: \"deduction_phase\" \n    name: \"The Marriage of Minds\"\n    type: \"narrative\"\n    location: \"study\"\n    content: |\n      Having examined the scene thoroughly, you return to the study where [The Analytical \n      Engine Quill](item:analytical_quill) awaits your conclusions. It has been tracing **elaborate diagrams** upon \n      the paper - charts showing the timeline of events, the relationships between the \n      household members, and the curious connections to *Lord Pemberton's investments* \n      in mechanical computation.\n      \n      [!important] *\"Now, [Inspector](character:player), comes the **true test** of investigative prowess. I have calculated \n      *seventeen possible scenarios* based upon the evidence gathered. However, I am curious \n      to observe how your **organic intuition** processes these same data points.\"*\n      \n      *\"Present your theory, and I shall render **judgment** upon the quality of your deduction. \n      Consider: the victim's positioning, the evidence of recent visitors, the particular \n      nature of his investments, and the *curious timing* of his demise.\"*\n      \n      The [quill](item:analytical_quill) hovers expectantly above the paper. You sense this **artificial mind** is \n      genuinely curious about the workings of *human reasoning* - as if studying you as \n      much as assisting in the investigation.\n      \n      [!warning] Your reputation as **Scotland Yard's finest** hangs in the balance, measured against \n      a machine that claims *perfect logical reasoning*.\n    sets: [\"theory_presentation_ready\"]\n\nllm_guidelines: |\n  CHARACTER DYNAMICS:\n  - Inspector Whitmore: Professional pride conflicting with fascination at this mechanical mind\n  - The Analytical Engine Quill: Condescending yet genuinely curious about human reasoning\n  - Their partnership should be both productive and slightly adversarial\n  \n  THE MYSTERY SOLUTION:\n  Lord Pemberton was poisoned by a business rival threatened by his investments in mechanical computation. The poison was in the tea (hence the residue), administered by someone who had access during the evening tea service. The victim's positioning suggests he realized what was happening and tried to call for help.\n  \n  EVIDENCE PROGRESSION:\n  - \"initial_examination_begun\" → when player starts investigating the crime scene\n  - \"evidence_gathering_complete\" → when player has examined locations and is ready to present theories\n  - \"some_evidence_gathered\" → if player finds at least one key piece of evidence\n  - \"all_evidence_gathered\" → if player finds all key pieces of evidence\n  - \"reasonable_theory_presented\" → if player identifies cause of death\n  - \"correct_theory_presented\" → if player identifies correct means, motive, and opportunity for murder\n  - \"theory_presented\" → when player has presented their final theory to the Quill\n  \n  QUILL'S PERSONALITY:\n  The quill should be verbose, slightly pompous, yet genuinely helpful. It represents the Victorian fascination with mechanical precision versus human intuition. It should provide hints while maintaining an air of superiority, yet be genuinely curious about human reasoning processes.\n  \n  INVESTIGATION MECHANICS:\n  - Encourage examination of multiple locations and objects\n  - Reward thorough investigation with better evidence flags\n  - Let the quill provide mechanical analysis while leaving intuitive leaps to the player\n  - The quill should react to the player's investigative approach and conclusions\n  - Set \"theory_presented\" flag only when player presents their final deduction to trigger ending"
  },
  {
    "filename": "transition_test.yaml",
    "title": "Transition Test Story",
    "author": "Test",
    "blurb": "A simple story to test the new LLM-enhanced flow transitions.",
    "content": "title: \"Transition Test Story\"\nauthor: \"Test\"\nversion: \"2.0\"\nblurb: \"A simple story to test the new LLM-enhanced flow transitions.\"\n\nmetadata:\n  setting:\n    time: \"Present day\"\n    place: \"A test environment\"\n  tone:\n    overall: \"Clear and direct\"\n    narrative_voice: \"Straightforward testing tone\"\n  themes:\n    - \"Testing flow transitions\"\n    - \"LLM enhancement verification\"\n\ncharacters:\n  - id: \"player\"\n    name: \"Tester\"\n    traits: [\"curious\", \"methodical\"]\n    voice: \"Direct and to the point\"\n    description: \"Someone testing the new flow transition system\"\n\nlocations:\n  - id: \"start_room\"\n    name: \"Starting Room\"\n    connections: [\"next_room\"]\n    description: \"A simple room with a door leading east. There's a button on the wall.\"\n    objects:\n      - name: \"button\"\n        description: \"A red button labeled 'PRESS ME'\"\n      - name: \"door\"\n        description: \"A wooden door leading east\"\n\n  - id: \"next_room\"\n    name: \"Second Room\"\n    connections: [\"start_room\"]\n    description: \"Another simple room with a lever on the wall.\"\n    objects:\n      - name: \"lever\"\n        description: \"A brass lever in the down position\"\n\nitems:\n  - id: \"test_key\"\n    name: \"Test Key\"\n    description: \"A small brass key that appeared when you pressed the button\"\n    discoverable_in: \"start_room\"\n    discovery_objects: [\"button\"]\n\nsuccess_conditions:\n  - id: \"test_complete\"\n    description: \"Successfully tested all flow transitions\"\n    requires: [\"button_pressed\", \"moved_rooms\", \"lever_pulled\", \"all_flows_visited\"]\n    ending: |\n      **Test Complete!**\n      \n      You have successfully tested the new flow transition system:\n      - LLM responses were enhanced with flow content ✓\n      - Transitions felt smooth and contextual ✓\n      - No jarring content replacement occurred ✓\n      \n      The enhanced flow transition system is working correctly!\n\nflows:\n  - id: \"initial_flow\"\n    name: \"Starting Phase\"\n    type: \"narrative\"\n    location: \"start_room\"\n    content: |\n      **Welcome to the Flow Transition Test**\n      \n      You find yourself in a simple test room. This story will help verify that the new \n      LLM-enhanced flow transitions work correctly.\n      \n      Instead of abruptly replacing your contextual responses with pre-written content, \n      the system should now blend them together smoothly.\n      \n      Try pressing the button to trigger the first transition!\n    transitions:\n      - requires: [\"button_pressed\"]\n        to_flow: \"button_flow\"\n        description: \"Transition when button is pressed\"\n    sets: [\"test_started\"]\n\n  - id: \"button_flow\"\n    name: \"Button Pressed Phase\"\n    type: \"narrative\"\n    location: \"start_room\"\n    content: |\n      **Excellent! Button Press Detected**\n      \n      The button press has been registered and a key has appeared! This transition \n      should have felt natural - the LLM should have acknowledged your button press \n      action and then smoothly incorporated this narrative content.\n      \n      Now try moving to the next room to test location-based transitions.\n    transitions:\n      - requires: [\"moved_to_next_room\"]\n        to_flow: \"movement_flow\"\n        description: \"Transition when player moves to next room\"\n    sets: [\"button_pressed\", \"first_transition_complete\"]\n\n  - id: \"movement_flow\"\n    name: \"Movement Test Phase\"\n    type: \"narrative\"\n    location: \"next_room\"\n    content: |\n      **Movement Transition Successful**\n      \n      Perfect! You've moved to the second room and the transition system has \n      adapted to your new location. The LLM should have described your movement \n      action contextually before presenting this flow content.\n      \n      Try pulling the lever to complete the final transition test.\n    transitions:\n      - requires: [\"lever_pulled\"]\n        to_flow: \"final_flow\"\n        description: \"Transition when lever is pulled\"\n    sets: [\"moved_rooms\", \"second_transition_complete\"]\n\n  - id: \"final_flow\"\n    name: \"Final Test Phase\"\n    type: \"narrative\"\n    location: \"next_room\"\n    content: |\n      **All Transitions Complete!**\n      \n      Fantastic! You've successfully tested all the flow transitions. Each one \n      should have felt smooth and contextual, with the LLM naturally incorporating \n      the flow content rather than abruptly replacing your actions.\n      \n      The test is now complete - you should see the success condition trigger shortly.\n    sets: [\"lever_pulled\", \"all_flows_visited\", \"test_complete\"]\n\nllm_guidelines: |\n  TESTING STORY: This is a technical test of the new flow transition system.\n  \n  TRANSITION BEHAVIOR:\n  When flow transitions occur, you should receive the flow content as context and naturally \n  incorporate it into your response. DO NOT just output the flow content verbatim.\n  \n  EXAMPLE GOOD TRANSITION:\n  Player presses button → \n  \"You press the red button firmly. Click! The button depresses with a satisfying sound, \n  and immediately you notice something has changed. A small compartment opens in the wall, \n  revealing a brass key that wasn't there before. \n  \n  **Excellent! Button Press Detected** - The button press has been registered and a key \n  has appeared! This transition should have felt natural...\"\n  \n  EXAMPLE BAD TRANSITION (what we're trying to avoid):\n  Player presses button → \n  \"**Excellent! Button Press Detected** - The button press has been registered...\"\n  (No acknowledgment of the actual button pressing action)\n  \n  FLAG SETTING:\n  - Set \"button_pressed\" when player presses the button\n  - Set \"moved_to_next_room\" when player moves east/to next room  \n  - Set \"lever_pulled\" when player pulls the lever\n  \n  GOAL: Make transitions feel like one coherent narrative response, not two separate pieces stuck together."
  }
];

export function getBundledStory(filename: string): BundledStory | undefined {
  return BUNDLED_STORIES.find(story => story.filename === filename);
}

export function getBundledStoryTitles(): Array<{filename: string, title: string, author: string, blurb: string}> {
  return BUNDLED_STORIES.map(story => ({
    filename: story.filename,
    title: story.title,
    author: story.author,
    blurb: story.blurb
  }));
}
